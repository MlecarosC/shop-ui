<div class="min-h-screen bg-base-100 py-12">
  <div class="max-w-2xl mx-auto px-6 md:px-10">

    <div class="text-center mb-12">
      <h1 class="text-4xl md:text-5xl font-bold mb-4">
        Contáctanos
      </h1>
      <p class="text-lg text-base-content/70 max-w-xl mx-auto">
        ¿Tienes alguna pregunta sobre nuestros cursos? Completa el formulario y te responderemos a la brevedad.
      </p>
    </div>

    <div class="bg-base-200 rounded-lg shadow-xl p-8 md:p-12">

      @if (successMessage()) {
        <div class="alert alert-success mb-6">
          <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          <span>{{ successMessage() }}</span>
        </div>
      }

      @if (errorMessage()) {
        <div class="alert alert-error mb-6">
          <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          <span>{{ errorMessage() }}</span>
        </div>
      }

      <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="space-y-6">

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="form-control">
            <label class="label">
              <span class="label-text font-semibold">Nombre</span>
            </label>
            <input 
              type="text" 
              formControlName="firstName"
              placeholder="Tu nombre"
              class="input input-bordered w-full"
              [class.input-error]="firstName?.invalid && firstName?.touched"
            />
            @if (firstName?.invalid && firstName?.touched) {
              <label class="label">
                @if (firstName?.errors?.['required']) {
                  <span class="label-text-alt text-error">El nombre es requerido</span>
                }
                @if (firstName?.errors?.['minlength']) {
                  <span class="label-text-alt text-error">Mínimo 2 caracteres</span>
                }
                @if (firstName?.errors?.['invalidName']) {
                  <span class="label-text-alt text-error">Solo se permiten letras</span>
                }
              </label>
            }
          </div>

          <div class="form-control">
            <label class="label">
              <span class="label-text font-semibold">Apellido</span>
            </label>
            <input 
              type="text" 
              formControlName="lastName"
              placeholder="Tu apellido"
              class="input input-bordered w-full"
              [class.input-error]="lastName?.invalid && lastName?.touched"
            />
            @if (lastName?.invalid && lastName?.touched) {
              <label class="label">
                @if (lastName?.errors?.['required']) {
                  <span class="label-text-alt text-error">El apellido es requerido</span>
                }
                @if (lastName?.errors?.['minlength']) {
                  <span class="label-text-alt text-error">Mínimo 2 caracteres</span>
                }
                @if (lastName?.errors?.['invalidName']) {
                  <span class="label-text-alt text-error">Solo se permiten letras</span>
                }
              </label>
            }
          </div>
        </div>

        <div class="form-control">
          <label class="label">
            <span class="label-text font-semibold">Email</span>
          </label>
          <input 
            type="email" 
            formControlName="email"
            placeholder="tu@email.com"
            class="input input-bordered w-full"
            [class.input-error]="email?.invalid && email?.touched"
          />
          @if (email?.invalid && email?.touched) {
            <label class="label">
              @if (email?.errors?.['required']) {
                <span class="label-text-alt text-error">El email es requerido</span>
              }
              @if (email?.errors?.['email']) {
                <span class="label-text-alt text-error">Ingresa un email válido</span>
              }
            </label>
          }
        </div>

        <div class="form-control">
          <label class="label">
            <span class="label-text font-semibold">Mensaje</span>
          </label>
          <textarea 
            formControlName="message"
            placeholder="Cuéntanos en qué podemos ayudarte..."
            class="textarea textarea-bordered w-full h-40 resize-none"
            [class.textarea-error]="message?.invalid && message?.touched">
          </textarea>
          @if (message?.invalid && message?.touched) {
            <label class="label">
              @if (message?.errors?.['required']) {
                <span class="label-text-alt text-error">El mensaje es requerido</span>
              }
              @if (message?.errors?.['minlength']) {
                <span class="label-text-alt text-error">Escribe al menos 10 caracteres</span>
              }
            </label>
          }
        </div>

        <div class="form-control">
          <button 
            type="submit" 
            class="btn btn-primary w-full btn-lg"
            [disabled]="isLoading()">
            @if (isLoading()) {
              <span class="loading loading-spinner"></span>
              Enviando mensaje...
            } @else {
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
              </svg>
              Enviar Mensaje
            }
          </button>
        </div>
      </form>

    </div>

    <div class="mt-12 text-center space-y-4">
      <div class="flex flex-wrap justify-center gap-8 text-base-content/70">
        <div class="flex items-center gap-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
          </svg>
          <span>soporte@soporte.com</span>
        </div>
        <div class="flex items-center gap-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
          </svg>
          <span>Santiago, Chile</span>
        </div>
      </div>
      
      <a routerLink="/home" class="btn btn-ghost gap-2">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
        </svg>
        Volver al inicio
      </a>
    </div>

  </div>
</div>
