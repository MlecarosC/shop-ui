<div class="min-h-screen bg-base-100 py-12">
  <div class="max-w-6xl mx-auto px-6 md:px-10">

    <div class="mb-8">
      <h1 class="text-4xl font-bold mb-2">Our Products</h1>
      <p class="text-base-content/70">Discover our wide range of quality products</p>
    </div>

    <div class="mb-8 bg-base-200 p-6 rounded-lg">
      <h2 class="text-xl font-semibold mb-4">Filter by Category</h2>
      
      @if (categories().length > 0) {
        <form class="flex flex-wrap gap-3 items-center">
          @for (category of categories(); track category) {
            <input 
              class="btn"
              [class.btn-primary]="isCategorySelected(category)"
              type="checkbox" 
              name="categories" 
              [attr.aria-label]="category"
              [checked]="isCategorySelected(category)"
              (change)="toggleCategory(category)"
            />
          }
          <button 
            class="btn btn-square btn-ghost" 
            type="button"
            (click)="resetFilters()"
            aria-label="Clear filters">
            Ã—
          </button>
        </form>
      } @else {
        <div class="flex items-center gap-2 text-base-content/70">
          <span class="loading loading-spinner loading-sm"></span>
          <span>Loading categories...</span>
        </div>
      }
    </div>

    <div class="mb-6">
      <p class="text-sm text-base-content/70">
        Showing {{ filteredProducts().length }} of {{ allProducts().length }} products
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      @for (product of filteredProducts(); track product.id) {
        <app-product-card 
          [product]="product"
        />
      } @empty {
        <div class="col-span-full text-center py-12">
          <p class="text-xl text-base-content/50">No products found with the selected filters</p>
          <button 
            class="btn btn-primary mt-4"
            (click)="resetFilters()">
            Clear Filters
          </button>
        </div>
      }
    </div>

  </div>
</div>
